(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[0],{36:function(t,e,n){t.exports=n(83)},46:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var a,c,o=n(0),r=n.n(o),u=n(10),s=n.n(u),l=n(8),i=n(3),m=n(34),f=n(7),d=n(2),b=Object(d.b)("contacts/addRequest"),h=Object(d.b)("contacts/addSuccess"),C=Object(d.b)("contacts/addError"),p=Object(d.b)("contacts/removeRequest"),g=Object(d.b)("contacts/removeSuccess"),E=Object(d.b)("contacts/aremoverror"),v=Object(d.b)("contactfetchRequest"),O=Object(d.b)("contacts/fetchSuccess"),j=Object(d.b)("contacts/fetchError"),y={removeContactRequest:p,removeContactSuccess:g,removeContactError:E,addContactError:C,addContactSuccess:h,addContactRequest:b,changeFilter:Object(d.b)("contact/changeFilter"),fetchContactsRequest:v,fetchContactsSuccess:O,fetchContactsError:j},S=Object(d.c)([],(a={},Object(i.a)(a,y.fetchContactsSuccess,(function(t,e){return e.payload})),Object(i.a)(a,y.addContactSuccess,(function(t,e){return[].concat(Object(m.a)(t),[e.payload])})),Object(i.a)(a,y.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),a)),N=Object(d.c)("",Object(i.a)({},y.changeFilter,(function(t,e){return e.payload}))),F=Object(d.c)(!1,(c={},Object(i.a)(c,y.addContactRequest,(function(){return!0})),Object(i.a)(c,y.addContactSuccess,(function(){return!1})),Object(i.a)(c,y.addContactError,(function(){return!1})),Object(i.a)(c,y.removeContactRequest,(function(){return!0})),Object(i.a)(c,y.removeContactSuccess,(function(){return!1})),Object(i.a)(c,y.removeContactError,(function(){return!1})),c)),w=Object(f.c)({items:S,filter:N,loading:F}),k=Object(d.a)({reducer:{contacts:w}}),x=(n(46),n(14)),q=n(15),R=n(17),I=n(16),L=n(33),A=n.n(L),M=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"mainTitle"},"Phonebook"))},B=n(12),D=n(84),P=n(18),T=n.n(P),J={addContact:function(t,e){return function(n){n(y.addContactRequest()),T.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){console.log(t),n(y.addContactSuccess(t.data))})).catch((function(t){return n(y.addContactError(t))}))}},fetchContacts:function(){return function(t){t(y.fetchContactsRequest()),T.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;return t(y.fetchContactsSuccess(n))})).catch((function(e){return t(y.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(y.removeContactRequest()),T.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(y.removeContactSuccess(t))})).catch((function(t){return e(y.removeContactError(t))}))}}},U=n(9),_=function(t){return t.contacts.filter},z=function(t){return t.contacts.items},G={getLoading:function(t){return t.contacts.loading},getFilter:_,getContacts:z,getContactById:Object(U.a)([function(t,e){return e},z],(function(t,e){return e.find((function(e){return e.id===t}))})),getContactsFiltered:Object(U.a)([z,_],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},H=function(t){Object(R.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(x.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).formInitialState={name:"",number:""},t.state=Object(B.a)(Object(B.a)({},t.formInitialState),{},{alertMessageShow:!1}),t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(i.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number;if(t.props.contacts.find((function(t){return t.name===a})))return t.setState({alertMessageShow:!0}),t.setState(Object(B.a)({},t.formInitialState));t.props.onAddContact(a,c),t.setState({name:"",number:""})},t.toggleAlert=function(){t.setState({alertMessageShow:!1})},t}return Object(q.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.alertMessageShow;return r.a.createElement("section",{className:"wrapper"},r.a.createElement(D.a,{in:a,timeout:250,classNames:"alertFade",unmountOnExit:!0},r.a.createElement("button",{className:"alertMessage",onClick:this.toggleAlert},r.a.createElement("p",null,"Contact already exists"))),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("label",null,"Name",r.a.createElement("input",{className:"input",type:"text",name:"name",value:e,onChange:this.handleChange,placeholder:"Enter name"})),r.a.createElement("label",null,"Number",r.a.createElement("input",{className:"input",type:"tel",value:n,onChange:this.handleChange,name:"number",placeholder:"Enter number"})),r.a.createElement("button",{type:"submit",className:"addContact-button"},"Add contact")))}}]),n}(o.Component),K={onAddContact:J.addContact},Q=Object(l.b)((function(t){return{contacts:G.getContacts(t),filter:G.getFilter(t)}}),K)(H);var V=Object(l.b)((function(t){return{value:G.getFilter(t)}}),(function(t){return{onChange:function(e){return t(y.changeFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return r.a.createElement("div",{className:"find-input_frame "},r.a.createElement("label",null,r.a.createElement("input",{className:"input",type:"text",value:e,onChange:n})))})),W=Object(l.b)((function(t,e){var n=G.getContactById(t,e.id);return Object(B.a)({},n)}),(function(t,e){return{deleteContact:function(n){return t(J.removeContact(e.id))}}}))((function(t){var e=t.id,n=t.name,a=t.number,c=t.deleteContact;return r.a.createElement("li",{className:"contact"},r.a.createElement("span",null,n),r.a.createElement("span",null,a),r.a.createElement("button",{className:"deleteBtn",type:"button",onClick:function(){return c(e)}},"x"))})),X=n(85),Y=Object(l.b)((function(t){var e=G.getContactsFiltered(t);return console.log("items",e),{items:e,contacts:G.getContacts(t)}}))((function(t){var e=t.items,n=t.contacts;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.length>0&&0===e.length?r.a.createElement("h4",null,"...Nothing Found"):r.a.createElement(X.a,{component:"ul",className:"contacts-list"},e.map((function(t){var e=t.id;return r.a.createElement(D.a,{key:e,classNames:"taskList-fade",timeout:250,unmountOnExit:!0},r.a.createElement(W,{id:e}))}))))})),Z=function(t){Object(R.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(x.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={showContacts:!1},t}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"componentDidUpdate",value:function(t,e){console.log("prevProps",t),console.log("nextProps",e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{in:!0,appear:!0,classNames:"mainTitle-slideIn",timeout:5e3,unmountOnExit:!0},r.a.createElement(M,null)),r.a.createElement(Q,null),r.a.createElement(D.a,{in:this.props.filteredContacts.length>1||this.props.contacts.length>1,timeout:250,classNames:"findContact",unmountOnExit:!0},r.a.createElement(V,null)),r.a.createElement(Y,null),this.props.IsLoadingContacts&&r.a.createElement(A.a,{style:{display:"flex ",justifyContent:"center"},type:"ThreeDots",color:"#00BFFF",height:80,width:80}))}}]),n}(o.Component),$={onFetchContacts:J.fetchContacts},tt=Object(l.b)((function(t){console.log("state",t);var e=t.contacts,n=e.items,a=e.filter;return{filteredContacts:n.filter((function(t){return t.name.toLowerCase().includes(a.toLowerCase())})),IsLoadingContacts:G.getLoading(t),filter:G.getFilter(t),contacts:t.contacts.items}}),$)(Z);s.a.render(r.a.createElement("div",null,r.a.createElement(l.a,{store:k},r.a.createElement(tt,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.df4b7248.chunk.js.map